{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e8aff369_2ecd141d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1229339
      },
      "writtenOn": "2024-01-06T02:26:24Z",
      "side": 1,
      "message": "Fixes these compiler errors that happen after upgrading libc++:\n```\npackages/modules/adb/adb_mdns.cpp:98:5: error: no member named \u0027for_each\u0027 in namespace \u0027std\u0027; did you mean \u0027std::ranges::for_each\u0027?\n    std::for_each(g_autoconn_allowedlist.begin(), g_autoconn_allowedlist.end(), [\u0026](const int\u0026 i) {\n    ^~~~~~~~~~~~~\n    std::ranges::for_each\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__algorithm/ranges_for_each.h:70:25: note: \u0027std::ranges::for_each\u0027 declared here\n  inline constexpr auto for_each \u003d __for_each::__fn{};\n                        ^\n1 error generated.\npackages/modules/adb/client/auth.cpp:263:16: error: conversion function from \u0027std::nullptr_t\u0027 to \u0027std::string\u0027 (aka \u0027basic_string\u003cchar\u003e\u0027) invokes a deleted function\n        return nullptr;\n               ^~~~~~~\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/string:917:3: note: \u0027basic_string\u0027 has been explicitly marked deleted here\n  basic_string(nullptr_t) \u003d delete;\n  ^\n1 error generated.\nIn file included from packages/modules/adb/daemon/abb_service.cpp:17:\nIn file included from packages/modules/adb/adb.h:23:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/functional:527:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__functional/boyer_moore_searcher.h:22:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/shared_ptr.h:31:\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/unique_ptr.h:686:30: error: allocation of incomplete type \u0027(anonymous namespace)::AbbProcess\u0027\n  return unique_ptr\u003c_Tp\u003e(new _Tp(_VSTD::forward\u003c_Args\u003e(__args)...));\n                             ^~~\npackages/modules/adb/daemon/abb_service.cpp:28:59: note: in instantiation of function template specialization \u0027std::make_unique\u003c(anonymous namespace)::AbbProcess\u003e\u0027 requested here\nstatic auto\u0026 abbp \u003d *new std::unique_ptr\u003cAbbProcess\u003e(std::make_unique\u003cAbbProcess\u003e());\n                                                          ^\npackages/modules/adb/daemon/abb_service.cpp:27:8: note: forward declaration of \u0027(anonymous namespace)::AbbProcess\u0027\nstruct AbbProcess;\n       ^\nIn file included from packages/modules/adb/daemon/abb_service.cpp:17:\nIn file included from packages/modules/adb/adb.h:23:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/functional:527:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__functional/boyer_moore_searcher.h:22:\nIn file included from prebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/shared_ptr.h:31:\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/unique_ptr.h:63:19: error: invalid application of \u0027sizeof\u0027 to an incomplete type \u0027(anonymous namespace)::AbbProcess\u0027\n    static_assert(sizeof(_Tp) \u003e\u003d 0, \"cannot delete an incomplete type\");\n                  ^~~~~~~~~~~\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/unique_ptr.h:297:7: note: in instantiation of member function \u0027std::default_delete\u003c(anonymous namespace)::AbbProcess\u003e::operator()\u0027 requested here\n      __ptr_.second()(__tmp);\n      ^\nprebuilts/clang/host/linux-x86/clang-r498229b/include/c++/v1/__memory/unique_ptr.h:263:75: note: in instantiation of member function \u0027std::unique_ptr\u003c(anonymous namespace)::AbbProcess\u003e::reset\u0027 requested here\n  _LIBCPP_INLINE_VISIBILITY _LIBCPP_CONSTEXPR_SINCE_CXX23 ~unique_ptr() { reset(); }\n                                                                          ^\npackages/modules/adb/daemon/abb_service.cpp:28:54: note: in instantiation of member function \u0027std::unique_ptr\u003c(anonymous namespace)::AbbProcess\u003e::~unique_ptr\u0027 requested here\nstatic auto\u0026 abbp \u003d *new std::unique_ptr\u003cAbbProcess\u003e(std::make_unique\u003cAbbProcess\u003e());\n                                                     ^\npackages/modules/adb/daemon/abb_service.cpp:27:8: note: forward declaration of \u0027(anonymous namespace)::AbbProcess\u0027\nstruct AbbProcess;\n       ^\n2 errors generated.\n```",
      "revId": "ecff26fac112bd107e70a35c64b96f61426872be",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}