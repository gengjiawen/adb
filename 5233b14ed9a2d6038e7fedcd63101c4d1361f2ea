{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "290dfa52_4708d402",
        "filename": "adb_trace.h",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-08-16T14:34:28Z",
      "side": 1,
      "message": "add a NUM_TRACES bogus entry and a static_assert instead?\n\nand actually, this should be setup_trace_mask() instead.",
      "range": {
        "startLine": 23,
        "startChar": 3,
        "endLine": 25,
        "endChar": 61
      },
      "revId": "5233b14ed9a2d6038e7fedcd63101c4d1361f2ea",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccb8e39d_49fc3841",
        "filename": "adb_trace.h",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-08-16T16:20:23Z",
      "side": 1,
      "message": "Yes, I can do that in another CL.\n\n- move to setup_trace_mask\n\nWhat do you envision being done for that? An assert(NUM_TRACES (trace.h) \u003d\u003d  mask_mum_traces (trace.cpp)?",
      "parentUuid": "290dfa52_4708d402",
      "range": {
        "startLine": 23,
        "startChar": 3,
        "endLine": 25,
        "endChar": 61
      },
      "revId": "5233b14ed9a2d6038e7fedcd63101c4d1361f2ea",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d09eb9af_1656becc",
        "filename": "docs/user/adb.1.md",
        "patchSetId": 7
      },
      "lineNbr": 361,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-08-16T14:34:28Z",
      "side": 1,
      "message": "this list is already in https://source.corp.google.com/h/android/platform/superproject/main/+/main:packages/modules/adb/client/commandline.cpp;l\u003d248?q\u003dADB_TRACE%20file:modules%2Fadb\u0026sq\u003drepo:android%2Fplatform%2Fsuperproject%2Fmain%20b:main%20-file:prebuilts%2Fvndk%2F%20-file:prebuilts%2Fruntime%2F and that should be the canonical source, no? (not least because it varies by adb version.)\n\na more interesting change would be to fix that so it\u0027s generated based on the actual map, rather than having yet another probably out of date copy of the list...",
      "revId": "5233b14ed9a2d6038e7fedcd63101c4d1361f2ea",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3ba2933_698ba371",
        "filename": "docs/user/adb.1.md",
        "patchSetId": 7
      },
      "lineNbr": 361,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-08-16T16:18:05Z",
      "side": 1,
      "message": "I think we need to discuss in VC. I thought we agreed that the env variable from `--help` where going away toward `dosc/user.md` or `docs/dev.md`. This in order to have `--help` be git like. e.g.:\n\n```\n$ adb --help\ninstallation: isntall, install-multiple, ....\ndebug: \nfile-transfer: push, pull\n```\n\nThen you can get additional help on an individual command:\n\n```\n$ adb push --help\nUsage: push [--sync] [-z ALGORITHM] [-Z] LOCAL... REMOTE\n     copy local files/directories to device\n     --sync: only push files that are newer on the host than the device\n     -n: dry run: push files to device without storing to the filesystem\n     -z: enable compression with a specified algorithm (any/none/brotli/lz4/zstd)\n     -Z: disable compression\n\n```\n\nAre you saying you want to keep some env (which ones) in CLI `--help` output?",
      "parentUuid": "d09eb9af_1656becc",
      "revId": "5233b14ed9a2d6038e7fedcd63101c4d1361f2ea",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17f09208_e14735f7",
        "filename": "docs/user/adb.1.md",
        "patchSetId": 7
      },
      "lineNbr": 361,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-08-16T23:09:34Z",
      "side": 1,
      "message": "\u003e This in order to have --help be git like.\n\ni actually don\u0027t remember anyone ever suggesting that specific idea[1], but i think my reaction is similar to most of the other ideas that involve major rewrites of the command-line parsing stuff --- \"i don\u0027t think it\u0027s very likely to actually happen\". everyone who\u0027s ever looked at it in the last 10 years (including me) has wanted to rewrite it, but it\u0027s fairly hard to justify the amount of time (and likely disruption) that reimplementing it would need. (it\u0027s not often you\u0027ll hear me say this, but \"if only this had been written in python, we\u0027d never have gotten into this mess\"!)\n\n\u003e Are you saying you want to keep some env (which ones) in CLI --help output?\n\ni think i\u0027m making an unrelated point --- whether we think there will be a grander refactoring or not, i think it\u0027s obvious that we should be \"dumping the strings from the map\" rather than maintaining hand-written lists in the code.\n\nif we put something in the docs, it should probably be more than just a list to be useful, right? docs are where you explain wtf \"adb\" means when asking adb to trace, for example :-) (but also the difference between packets and rwx, etc --- pretty much all of these are at least somewhat non-obvious!)\n\nbut if your question is \"shouldn\u0027t we remove this from the --help?\", \"probably not\" --- for me the very fact that \"the acceptable options vary depending on what version of adb you\u0027re running\" is a reason why --help is the best place to encode that. (insert my usual rant about \"wtf can\u0027t i ask clang what targets it was compiled with support for?!\" here.)\n\n___\n1. but, yes, there\u0027s much to like about that idea. at that point you can even think about just documenting _everything_ in the [many] --help[s] and not have much reason to want to hide any of it (other than obviously developer-only stuff like protocol details) in docs.",
      "parentUuid": "f3ba2933_698ba371",
      "revId": "5233b14ed9a2d6038e7fedcd63101c4d1361f2ea",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}