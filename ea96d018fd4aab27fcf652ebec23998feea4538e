{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8dd59240_72873022",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-15T23:32:50Z",
      "side": 1,
      "message": "Need an empty line after the title",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 42
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4142e1df_b011b8bd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T01:05:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8dd59240_72873022",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 42
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5611f1cb_edff7265",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-15T23:32:50Z",
      "side": 1,
      "message": "Chosen for what?",
      "range": {
        "startLine": 8,
        "startChar": 24,
        "endLine": 8,
        "endChar": 30
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fbfcf4f8_bb22742c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T01:05:34Z",
      "side": 1,
      "message": "See line #135",
      "parentUuid": "5611f1cb_edff7265",
      "range": {
        "startLine": 8,
        "startChar": 24,
        "endLine": 8,
        "endChar": 30
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bf9617f_a66733b8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-18T18:52:48Z",
      "side": 1,
      "message": "I don\u0027t think this comment provide much to the reader. It says \"I used setenv because it was better\". \n\nIf you are going to mention what else you considered then it makes sense, otherwise I would not mention it.",
      "parentUuid": "fbfcf4f8_bb22742c",
      "range": {
        "startLine": 8,
        "startChar": 24,
        "endLine": 8,
        "endChar": 30
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3936eea4_afb20243",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-19T00:06:45Z",
      "side": 1,
      "message": "Acknowledged (the comment thread accomplished what I had in mind so I ended up removing the redundant detail).",
      "parentUuid": "0bf9617f_a66733b8",
      "range": {
        "startLine": 8,
        "startChar": 24,
        "endLine": 8,
        "endChar": 30
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49883d7b_193b6421",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-15T23:32:50Z",
      "side": 1,
      "message": "Sure, but what do you mean, what should be removed/changed?",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79e2f539_7f07f2c5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T01:05:34Z",
      "side": 1,
      "message": "Once libusb is the default (for all three host platforms), then I\u0027ll reverse the logic (requiring ADB_LIBUSB\u003d0 to override libusb), at the very least.",
      "parentUuid": "49883d7b_193b6421",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ee4a50b_6929d01c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-18T18:52:48Z",
      "side": 1,
      "message": "Add this explanation to the commit message.",
      "parentUuid": "79e2f539_7f07f2c5",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "279e5b87_1a2e070f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-19T00:06:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ee4a50b_6929d01c",
      "range": {
        "startLine": 10,
        "startChar": 16,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "509477da_340036f0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1076798
      },
      "writtenOn": "2023-09-15T22:07:36Z",
      "side": 1,
      "message": "Why isn\u0027t this just an `#ifdef __APPLE__` in should_use_libusb?",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10cb3c27_e3cb9786",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-15T23:32:50Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "509477da_340036f0",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b41c2ce_6027d4cb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T01:26:52Z",
      "side": 1,
      "message": "1.) The way it is setup right now is to invoke setenv() during initialization, and not at the call-site (which is several layers deep in the transport stack, specifically transport_usb module). It makes better sense to assign this responsibility (pick libusb vs poll) at the higher-level, than do this at the transport_usb level. 2.) In terms of runtime, `adb attach`/`adb detach` would cause setenv() to be invoke over and over, whereas a single setenv() invocation is enough (during the course of the adb server lifetime).",
      "parentUuid": "10cb3c27_e3cb9786",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "acdff62f_c1de6225",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-18T18:52:48Z",
      "side": 1,
      "message": "I disagree with this approach. There is a function `should_use_libusb` and it seems this should be the source of truth in case it is used elsewhere.\n\nHere you are creating a loose coupling by setting the env and expecting the implementation to not change.",
      "parentUuid": "7b41c2ce_6027d4cb",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1ed6971_64edea04",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-18T19:22:07Z",
      "side": 1,
      "message": "As I explained before, I do not want to waste extra computing cycles to setenv() over and over again (every time a user runs `adb attach/detach`). The other reason (responsibility to set/unset libusb at a higher level rather than transport_usb itself is a secondary reason and introduced no more/less coupling).\nAnd I\u0027m unclear on what you mean by \"expecting the implementation to not change\" (will chat offline about this part).",
      "parentUuid": "acdff62f_c1de6225",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6c58910_94447799",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-09-18T19:22:18Z",
      "side": 1,
      "message": "+1\n\nthere\u0027s no reason to call setenv() at all, so -- even if attach/detach was a performance hotspot (which it\u0027s not) -- the counterargument isn\u0027t relevant.\n\nthe usual \"reduce unnecessary coupling\" argument that sanglardf makes definitely wins here.",
      "parentUuid": "acdff62f_c1de6225",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c01fcd97_ef6ad49c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-18T20:16:19Z",
      "side": 1,
      "message": "\u003e\u003ethere\u0027s no reason to call setenv() at all,\nSo, I take it you\u0027re saying do more invasive changes (given we are still not quite convinced whether libusb would serve to worsen the problems or not?) in lieu of setenv() (which is minimal atm).\nPS: wrt coupling, I guess I can agree there is loose coupling (given there\u0027re no new compilation dependencies introduced).",
      "parentUuid": "e6c58910_94447799",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2df123af_28b2f268",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-09-18T21:17:48Z",
      "side": 1,
      "message": "\"invasive\" usually means \"all over the place\", which this would not be. this is really just \"making an equally small change, just in the most localized place\".\n\nif you were going to have to pass a \"use libusb\" flag around through eight different functions in three different files --- _that_ would be an invasive change. but this is really just one line, and the question is just \"does the change happen in the only code that cares?\" vs \"does the change happen in unrelated code in an unrelated file?\".",
      "parentUuid": "c01fcd97_ef6ad49c",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "82df0159_0fe9de68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-19T00:06:45Z",
      "side": 1,
      "message": "Acknowledged (not using setenv()).",
      "parentUuid": "2df123af_28b2f268",
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c73193f_bddec892",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-15T23:32:50Z",
      "side": 1,
      "message": "This is not a useful comment if we don\u0027t explain which cases.",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "00078630_045b883f",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T00:59:45Z",
      "side": 1,
      "message": "See the bug. The ingredient (kernel version, OS update) has not been pin-pointed.",
      "parentUuid": "1c73193f_bddec892",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cbb19c5d_05465629",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-16T01:48:47Z",
      "side": 1,
      "message": "Glad to incorporate any suggestions, but please be specific about what you\u0027d like me to change.\nWe know that *some* subset of MacOS hosts are impacted, and we know that some of these users got past the block by switching to libusb. As far as we know, libusb is *not* used out in the wild and therefore we are unaware about the extent of any (unknown?) problems. Hence the reason for the amgiguity.",
      "parentUuid": "00078630_045b883f",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89318bd0_af7be378",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1083168
      },
      "writtenOn": "2023-09-18T18:52:48Z",
      "side": 1,
      "message": "I don\u0027t think it is cool to force user to go git blame and have to read 84 comments in the bug to understand what is going on.\n\nIf you put a comment to explain what is going on in the next lines of code, it should be clean. This is vague. \n\nAfter spending 10mn reading the bug, I am still not sure what the issue is.\n\n- What is `ADB_OSX_USB_CLEARENDPOINTS`? I cannot find trace of it anywhere.\n- What is actually broken?",
      "parentUuid": "cbb19c5d_05465629",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7e14c46_9533d323",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-09-18T19:22:18Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "89318bd0_af7be378",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea2d645b_e370a9ea",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-18T20:16:19Z",
      "side": 1,
      "message": "The key is that there is still no understanding on what the root-cause of the failure is (given the lack of information), however I shall remove that bit.",
      "parentUuid": "b7e14c46_9533d323",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "179f51b7_a801c139",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-09-18T21:17:48Z",
      "side": 1,
      "message": "yeah, similar to \"if you\u0027ve nothing nice to say, don\u0027t say anything at all\", if you\u0027ve nothing concrete to say ... \n\n(unless you\u0027re _trying_ to start a centuries-long mystery along the lines of https://en.wikipedia.org/wiki/Fermat%27s_Last_Theorem )",
      "parentUuid": "ea2d645b_e370a9ea",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b264402e_7386ed5e",
        "filename": "client/main.cpp",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1579231
      },
      "writtenOn": "2023-09-19T00:06:45Z",
      "side": 1,
      "message": "Acknowledged (not using setenv() any longer).",
      "parentUuid": "179f51b7_a801c139",
      "range": {
        "startLine": 133,
        "startChar": 7,
        "endLine": 133,
        "endChar": 23
      },
      "revId": "ea96d018fd4aab27fcf652ebec23998feea4538e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}