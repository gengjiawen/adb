{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "08cfb0f6_995b02a1",
        "filename": "client/incremental_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2021-04-19T19:22:41Z",
      "side": 1,
      "message": "Are you sure you want to truncate the buffer if it doesn\u0027t fit?",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 92,
        "endChar": 24
      },
      "revId": "554365b0ff3ac870b378d150353b32608823afb3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2cc6e26a_74e40dc9",
        "filename": "client/incremental_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1166043
      },
      "writtenOn": "2021-04-19T19:30:35Z",
      "side": 1,
      "message": "this code is to protect us from OOMing, signature validation will be done later.\n\nalternatively we could return some kind of error, but this would be a much bigger change, not sure i want to do it just for this single bug",
      "parentUuid": "08cfb0f6_995b02a1",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 92,
        "endChar": 24
      },
      "revId": "554365b0ff3ac870b378d150353b32608823afb3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6d01e53_ccb0487d",
        "filename": "client/incremental_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2021-04-19T19:33:44Z",
      "side": 1,
      "message": "Just abort? It seems better than just proceeding with garbage and relying on signature checks to validate. (and hoping that there aren\u0027t assumptions about the size of the signature in the meantime)",
      "parentUuid": "2cc6e26a_74e40dc9",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 92,
        "endChar": 24
      },
      "revId": "554365b0ff3ac870b378d150353b32608823afb3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e44b0ca0_7a658d0e",
        "filename": "client/incremental_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1166043
      },
      "writtenOn": "2021-04-19T19:38:15Z",
      "side": 1,
      "message": "ah, no. we don\u0027t want to always abort.\nthere is a mode where we try with whatever we have and fallback to streaming installation in case of failure.\n\nhaving said that, the signature will most probably be incorrect, but this is something our code has to be able to handle",
      "parentUuid": "e6d01e53_ccb0487d",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 92,
        "endChar": 24
      },
      "revId": "554365b0ff3ac870b378d150353b32608823afb3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b020c200_e79aebaf",
        "filename": "client/incremental_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2021-04-19T20:31:29Z",
      "side": 1,
      "message": "\u003e alternatively we could return some kind of error, but this would be a much bigger change, not sure i want to do it just for this single bug\n\nI think it\u0027d be a two line change here, and no action needed in the caller? It looks like you\u0027re already returning an empty vector as an invalid signature in read_signature, so making this function return a bool and returning an empty vector if it returns false would give you the behavior you expect.",
      "parentUuid": "e44b0ca0_7a658d0e",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 92,
        "endChar": 24
      },
      "revId": "554365b0ff3ac870b378d150353b32608823afb3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}